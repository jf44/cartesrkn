<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="Author" content="JF">
<meta name="description" content="Google Earth Maps">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="author" title="Auteur" href="mailto:jean.fruitet@free.fr">
<title>Friend's boats in Google Earth</title>
<meta name="ROBOTS" content="none,noarchive">
<link href="select_param.css" rel="stylesheet" type="text/css">
<script src="js/cookies.js"></script>
<script src="js/ajax_loader.js"></script>
<script src="js/cartes_ge.js"></script>
<script src="js/set_params.js"></script>
<script src="js/set_positions.js"></script>
<script src="js/config_server.js"></script> <!-- server configuration :: need to be adapted to the server position (local or remote) -->
</head>
<body onload="get_models3D();">
<div id="bandeauDiv"><h1 class="bandeau">Your Friend's boats in Google Earth</h1></div>
<div id="leftDiv">
<p> &gt;&gt;&gt; <a href="index_en.html">Home</a> &gt;&gt;&gt; <b>Set Up a Map</b> &gt;&gt;&gt; <a href="color_picker_en.html">Sails and Hull Colors</a></p>
<h2>Maps Parameters</h2>
<p>Input your Boat Name in VR (<i>exact spelling!</i>)</p>
<form action="" name="naming" id="naming"  method="post" onsubmit="return get_params();">
<b><label for="nomboat">Name</label></b>
<input type="text" class="textInput" name="nomboat" id="nomboat" size="30" value=""/>
<input id="submitBtn2" type="submit" name="action2" value="Go" />
</form>
<p>Then select the setup to get a KMZ map (mandatory).</p>
<form action="" name="steering" id="steering"  method="post" onsubmit="return (steeringvalidate_params());">
<label for="cCourse"><b>Race</b></label>
<input type="text" name="cCourse" id="cCourse" size="20" maxsize="30" value="" onchange="placerUneValeur(0);"/>
&nbsp; &nbsp;
<label for="cTeam"><b>Team</b></label> &nbsp;
<input type="text" name="cTeam" id="cTeam" size="10" maxsize="30" value="" onchange="placerUneValeur(1);"/>
&nbsp; &nbsp;
<label for="cScale"><b>Scale</b></label> <span class="small"> (from <i>0.1</i> to <i>50</i>)</span>
<input type="text" name="cScale" id="cScale" size="4" maxsize="4" value="" onchange="placerUneValeur(2);"/>
<br />
<label for="cModele"><b>3D Boat's Models</b></label> <span class="small"> (among those available on the server)</span>
&nbsp; &nbsp; <select name="cModele" id="cModele" onchange="placerUneValeur(3);">
</select>
&nbsp; &nbsp; <button type="button" id="submitBtn" onsubmit="return (steeringvalidate_params());">Ok!</button>
<br /><label for="params"></label>
<br />
<input type="text" name="params" id="params" size="80" maxsize="255" value="" />
<br /><br />
<i><span class="error"><label id="imputvalue"></label></span></i>
<br />
<input type="reset" >
<input id="submitBtn1" type="submit" name="action" value="Valider" />
</form>

<div id="maPalette">
<p align="center"><b>Your Setup</b> :
<b>Race</b>: <label id="lCourse">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</label>
<b>Team</b>: <label id="lTeam">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</label>
<b>Scale</b>: <label id="lScale">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</label>
<b>3D Model</b>: <label id="lModele">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</label>
</p></div>

<div id="ajaxBox"></div>
<div id="myMap"></div>
<div id="myHelp"></div>
</div> <!-- left frame -->
<div id="rightDiv">
    <h2>Type in your boat and your friends' boats positions</h2>
	<li>Install Chrome Extension <a target="_blank" href="https://chrome.google.com/webstore/detail/vr-dashboard/amknkhejaogpekncjekiaolgldbejjan?hl=en">VR Dashboard</a></li>
	<li>Launch Virtual Regatta in the <b>Chrome Browser</b></li>
	<li>Activate VR Dashbord</li>
	<li>Select a Race then "Fleet" then the "Friends" and/or the "Team" filters</li>
	<li>Once the data are displayed <b>Cut / Paste</b> the full array in the form below:</li>
    <form action="" name="data" id="data" method="post" onsubmit="return (positions_validate());">
    <textarea cols="70" rows="30" name="liste" id="liste"></textarea>
    <input type="hidden" name="team" id="team" value="" />
	<br />
	<input type="reset" >
	<input id="submitBtn1" type="submit" name="action" value="Validate">
	</form>
<script type="text/javascript">
    document.getElementById("rightDiv").style.backgroundColor =  "#ffffcc";
</script>
</div> <!-- right frame -->


<script type="text/javascript">
	// Ajax Form treatment
  	// Prevent browser default  : do not send form because we use an Ajax call
	document.getElementById("naming").addEventListener("submit", function(event){
    	event.preventDefault()
	});

	document.getElementById("steering").addEventListener("submit", function(event){
    	event.preventDefault()
	});

	document.getElementById("data").addEventListener("submit", function(event){
    	event.preventDefault()
	});


    // Find a nomboat
	var cookies = document.cookie;
	if (cookies !== null)
	{
		nomboat = getCookie("rknnomboat");
		if (nomboat != ""){
	    	document.naming.nomboat.value = nomboat;
			// console.log("NOMBOAT: %s",nomboat);
			get_params_boat(nomboat); // Ajax Call
		}
		course = getCookie("rkncourse");
		team = getCookie("rknteam");
        scale = getCookie("rknscale");
		modele = getCookie("rknmodele");
	}
	if (modele != "")
	{
		document.getElementById('cModele').value = scale;
        setCookie("rknmodele",modele,8);
	}
	if (scale.length != 0)
	{
		document.getElementById('cScale').value = scale;
        setCookie("rknscale",scale,8);
	}
	if (team != "")
	{
		document.getElementById('cTeam').value = team;
        setCookie("rknteam",team,8);
	}
	if (course != "")
	{
		document.getElementById('cCourse').value = course;
        setCookie("rkncourse",course,8);
	}

	if (document.naming.nomboat.value)
	{
        nomboat = document.naming.nomboat.value;
      	setCookie("rknnomboat",nomboat,8);
	}
	else
	{
        //alert( "Fournissez un nom de bateau !" );
		document.getElementById('imputvalue').innerHTML =  "Fournissez un nom de bateau !";
        document.naming.nomboat.focus() ;
	}

	help_en();
</script>
<div id="baspageDiv"><a class="bandeau" href="mailto:jean.fruitet@free.fr?subject=Cartes GE">(c) JF</a></div>

</body>
</html>
